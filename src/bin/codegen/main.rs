//! Code to generate device definitions

use anyhow::Result;
use minidsp::device::specs::{m2x4hd, DeviceSpec};

fn gen_m2x4hd() -> String {
    let s = m2x4hd::Spec::new()
        .generate_static_config("DEVICE")
        .to_string();

    "//\n// This file is generated by `codegen`. DO NOT EDIT.\n//\n".to_string() + &s
}

fn main() -> Result<()> {
    std::fs::write("./src/device/m2x4hd.rs", gen_m2x4hd())?;
    Ok(())
}
